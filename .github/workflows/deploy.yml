# This workflow has been replaced by Amplify's automatic deployments
# Amplify automatically deploys when you push to connected branches
# See .github/workflows/amplify-deploy.yml for monitoring and validation

name: Legacy Deploy (Disabled)

on:
  # Workflow is disabled - remove this file after confirming Amplify is working
  workflow_dispatch:
    inputs:
      confirm_delete:
        description: 'Type "DELETE" to confirm removal of this legacy workflow'
        required: true
        type: string

jobs:
  migration-notice:
    name: Migration Notice
    runs-on: ubuntu-latest
    if: inputs.confirm_delete == 'DELETE'
    
    steps:
      - name: Migration Notice
        run: |
          echo "üö® This workflow is deprecated!"
          echo ""
          echo "‚úÖ The application has been migrated to AWS Amplify"
          echo "üîÑ Deployments now happen automatically when you push to main/develop branches"
          echo "üìä Use the 'Amplify Deployment Monitor' workflow for build validation"
          echo ""
          echo "To complete the migration:"
          echo "1. Confirm Amplify is working correctly"
          echo "2. Remove this workflow file (.github/workflows/deploy.yml)"
          echo "3. Remove SST configuration files (sst.config.ts, sst-env.d.ts)"
          echo "4. Update documentation"
          
  block-usage:
    name: Block Legacy Usage
    runs-on: ubuntu-latest
    if: inputs.confirm_delete != 'DELETE'
    
    steps:
      - name: Block Usage
        run: |
          echo "‚ùå This workflow is disabled"
          echo ""
          echo "üîÑ Deployments are now handled by AWS Amplify automatically"
          echo "üìã Check the 'Amplify Deployment Monitor' workflow for build status"
          echo "üåê Visit the AWS Amplify console to manage deployments"
          echo ""
          echo "If you need to remove this workflow, re-run with confirm_delete: 'DELETE'"
          exit 1